run:
  name: phase_d_collect_priors_kdpm2
  out_dir: runs

repro:
  seed: 12345
  deterministic: true
  deterministic_warn_only: true
  cudnn_deterministic: true
  cudnn_benchmark: false
  allow_tf32: false
  set_cublas_workspace: true

model:
  model_id: runwayml/stable-diffusion-v1-5
  torch_dtype: float16
  device: cuda

solver:
  name: kdpm2
  kwargs: {}   # fill if you already use custom params

sample:
  height: 512
  width: 512
  num_inference_steps: 20
  guidance_scale: 7.5
  num_images_per_prompt: 1

logging:
  prompts_file: data/prompts_64.txt
  max_prompts: 512

priors:
  percentile: 99.9
  per_call_elems: 4096
  reservoir_size: 200000
  log_every: 50

# Optional override if you want custom blocks/paths later:
# sites:
#   mapping:
#     hi_attn1: "down_blocks.0.attentions.0.transformer_blocks.0.attn1"
#     ...
